(function(b,c){var a=0;b.widget("ui.basewidget",b.Widget,{_create:function(){this.uniqueId=a++;this._buildOptions();b.Widget.prototype._create.apply(this)},getUniqueId:function(){return this.uniqueId},_buildOptions:function(){}})}(jQuery));(function(b,c){var a="ui-rangeslider";b.widget("ui.rangeslider",b.ui.basewidget,{options:{values:null,absoluteMinimum:0,absoluteMaximum:100,resolution:1},_create:function(){b.ui.basewidget.prototype._create.apply(this);this.scrollId=null;this.scrollSpeed=0;this.scrollCount=0;this.element.slider({range:true,values:[0,0]});this.element.addClass(a);b(document).bind("mouseup."+this.widgetName+this.uniqueId,b.proxy(this,"_clearScrollInterval"));this.element.bind("slide."+this.widgetName+this.uniqueId,b.proxy(this,"_slide"));this.element.bind("slidechange."+this.widgetName+this.uniqueId,b.proxy(this,"_change"));this._setOption("resolution",this.options.resolution);this._setOption("values",this.options.values)},_buildOptions:function(){b.ui.basewidget.prototype._buildOptions.apply(this);if(!this.options.values){this.options.values=[this.options.absoluteMinimum,this.options.absoluteMaximum]}},_setOption:function(d,e){b.ui.basewidget.prototype._setOption.apply(this,arguments);if(d=="values"){this.element.slider("option","min",this._getMin());this.element.slider("option","max",this._getMax());this.element.slider("option","values",this.options.values)}else{if(d=="absoluteMinimum"){this.element.slider("option","min",this._getMin())}else{if(d=="absoluteMaximum"){this.element.slider("option","max",this._getMax())}else{if(d=="resolution"){this.element.slider("option","step",this.options.resolution)}}}}},destroy:function(){b(document).unbind("."+this.widgetName+this.uniqueId);this.element.unbind("."+this.widgetName+this.uniqueId);this.element.slider("destroy");this.element.removeClass(a);b.ui.basewidget.prototype.destroy.apply(this)},_getMin:function(){var f=this.options.values[1]-this.options.values[0];var e=Math.max(this.options.values[0]-0.125*f-3*this.options.resolution,this.options.absoluteMinimum);return Math.floor(e/this.options.resolution)*this.options.resolution},_getMax:function(){var f=this.options.values[1]-this.options.values[0];var e=Math.min(this.options.values[1]+0.125*f+3*this.options.resolution,this.options.absoluteMaximum);return Math.ceil(e/this.options.resolution)*this.options.resolution},_getNormalizedValues:function(d){return[Math.max(d[0],this.options.absoluteMinimum),Math.min(d[1],this.options.absoluteMaximum)]},_slide:function(f,g){this.options.values=this._getNormalizedValues(g.values);var e=this.element.slider("option","min");var d=this.element.slider("option","max");if(this.options.values[0]==e&&this.options.absoluteMinimum!=e){if(!this.scrollId){this.scrollId=setInterval(b.proxy(this,"_leftScroll"),100)}}else{if(this.options.values[1]==d&&this.options.absoluteMaximum!=d){if(!this.scrollId){this.scrollId=setInterval(b.proxy(this,"_rightScroll"),100)}}else{this._clearScrollInterval()}}},_change:function(d,e){this.options.values=this._getNormalizedValues(e.values);this.element.slider("option","min",this._getMin());this.element.slider("option","max",this._getMax())},_clearScrollInterval:function(){if(this.scrollId){clearInterval(this.scrollId);this.scrollId=null;this.scrollSpeed=0;this.scrollCount=0}},_leftScroll:function(){this.scrollCount++;this.scrollSpeed+=this.scrollCount*this.options.resolution;var e=this.element.slider("option","min");var d=this.element.slider("option","values");e=Math.max(e-this.scrollSpeed,this.options.absoluteMinimum);d[0]=e;this.element.slider("option","min",e);this.element.slider("option","values",d);this.element.trigger("slide",{handle:this.element.find(".ui-slider-handle")[0],value:e,values:d})},_rightScroll:function(){this.scrollCount++;this.scrollSpeed+=this.scrollCount*this.options.resolution;var d=this.element.slider("option","max");var e=this.element.slider("option","values");d=Math.min(d+this.scrollSpeed,this.options.absoluteMaximum);e[1]=d;this.element.slider("option","max",d);this.element.slider("option","values",e);this.element.trigger("slide",{handle:this.element.find(".ui-slider-handle")[1],value:d,values:e})}})}(jQuery));(function(a,c){var b="ui-widget ui-widget-content ui-corner-all ui-state";a.widget("ui.state",a.ui.basewidget,{options:{info:null,icon:null,type:"",stateClass:""},_create:function(){a.ui.basewidget.prototype._create.apply(this);this.oldHtml=this.element.html();this.element.empty();this.$icon=a("<span>").appendTo(this.element);this.$type=a("<strong>").appendTo(this.element);this.$info=a("<div>").appendTo(this.element);this.element.addClass(b);this.$icon.addClass("ui-icon");this._setOption("icon",this.options.icon);this._setOption("type",this.options.type);this._setOption("info",this.options.info||this.oldHtml);this._setOption("stateClass",this.options.stateClass)},_setOption:function(d,e){if(d=="icon"){this.$icon.removeClass(this.options.icon)}else{if(d=="stateClass"){this.element.removeClass(this.options.stateClass)}}a.ui.basewidget.prototype._setOption.apply(this,arguments);if(d=="info"){this.$info.empty();this.$info.append(this.options.info)}else{if(d=="type"){this.$type.text(this.options.type)}else{if(d=="icon"){this.$icon.addClass(this.options.icon)}else{if(d=="stateClass"){this.element.addClass(this.options.stateClass)}}}}},destroy:function(){this.element.removeClass(b);this.element.removeClass(this.options.stateClass);this.$icon.remove();this.$type.remove();this.$info.remove();this.element.append(this.oldHtml);return a.ui.basewidget.prototype.destroy.apply(this)}});a.widget("ui.stateerror",a.ui.state,{options:{icon:"ui-icon-alert",type:c,stateClass:"ui-state-error"},_buildOptions:function(){a.ui.state.prototype._buildOptions.apply(this);if(!this.options.type){this.options.type=a.globalization.localize("ui.stateerror.type")}}});a.widget("ui.stateinfo",a.ui.state,{options:{icon:"ui-icon-info",type:c,stateClass:"ui-state-highlight"},_buildOptions:function(){a.ui.state.prototype._buildOptions.apply(this);if(!this.options.type){this.options.type=a.globalization.localize("ui.stateinfo.type")}}})}(jQuery));(function(a,b){var c="ui-widget ui-texteditor";a.widget("ui.texteditor",a.ui.basewidget,{options:{text:"",limit:0},_create:function(){a.ui.basewidget.prototype._create.apply(this);this.element.addClass(c);this.$text=a("<textarea>").appendTo(this.element);this.$br=a("<br />").appendTo(this.element);this.$charactersLeft=a("<span>").appendTo(this.element);this.$text.addClass("ui-"+this.widgetName+"-textarea");this.$charactersLeft.addClass("ui-"+this.widgetName+"-characters-left");this.$text.bind("keyup."+this.widgetName+this.uniqueId,a.proxy(this,"_synchronizeCharactersLeft"));this.$text.bind("change."+this.widgetName+this.uniqueId,a.proxy(this,"_synchronizeCharactersLeft"));this._setOption("text",this.options.text);this._setOption("limit",this.options.limit);this._synchronizeCharactersLeft()},_setOption:function(d,e){a.ui.basewidget.prototype._setOption.apply(this,arguments);if(d=="text"){this.$text.val(this.options.text);this._synchronizeCharactersLeft()}else{if(d=="limit"){if(this.options.limit>0){this.$charactersLeft.show()}else{this.$charactersLeft.hide()}this._synchronizeCharactersLeft()}}},destroy:function(){this.$text.unbind("keyup."+this.widgetName+this.uniqueId);this.$text.unbind("change."+this.widgetName+this.uniqueId);this.$text.remove();this.$br.remove();this.$charactersLeft.remove();this.element.removeClass(c);a.ui.basewidget.prototype.destroy.apply(this,arguments)},getCroppedText:function(){if(this.options.limit>0){return this.options.text.substring(0,this.options.limit)}return this.options.text},_synchronizeCharactersLeft:function(){this.options.text=this.$text.val();this.$charactersLeft.text(a.globalization.localize("ui.texteditor.charactersLeft",[this.options.limit-this.options.text.length]))}})}(jQuery));